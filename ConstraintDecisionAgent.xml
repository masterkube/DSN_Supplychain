<?xml version="1.0" encoding="UTF-8"?>
<Agent>
	<AgentName>ConstraintDecisionAgent</AgentName>
    <Compose>
        <Tell><action><actionName>InvQuantity</actionName></action><internal>true</internal></Tell>
        <Tell><action><actionName>ConstraintValue</actionName></action><internal>true</internal></Tell>
        <Decision> 
            <Expression>InvQuantity&gt;ConstraintValue</Expression>
            <TrueEvent>
                <Tell><action><actionName>SglOverStock</actionName></action><internal>true</internal></Tell>
            </TrueEvent>
            <FalseEvent>
                <Tell><action><actionName>SglUnderStock</actionName></action><internal>true</internal></Tell>
            </FalseEvent>
        </Decision>
        <Choice>
            <ChoiceOption>
                <Ask><action><actionName>SglOverStock</actionName></action><internal>true</internal></Ask>
                <OptionAction>
                    <Choice>
                        <ChoiceOption>
                            <Ask><action><actionName>RunDecision</actionName></action><internal>true</internal></Ask>
                            <OptionAction>
                                    <AgentCommand><AgentName>ConstraintDecisionAgent</AgentName></AgentCommand>                        
                            </OptionAction>
                        </ChoiceOption>
                        <ChoiceOption>
                            <Tell><action><actionName>OverStock</actionName></action></Tell>
                            <OptionAction>
                            </OptionAction>
                        </ChoiceOption>
                    </Choice>
                </OptionAction>
            </ChoiceOption>
            <ChoiceOption>
                <Ask><action><actionName>SglUnderStock</actionName></action><internal>true</internal></Ask>
                <OptionAction>
                    <Choice>
                        <ChoiceOption>
                            <Ask><action><actionName>RunDecision</actionName></action><internal>true</internal></Ask>
                            <OptionAction>
                                <AgentCommand><AgentName>ConstraintDecisionAgent</AgentName></AgentCommand>                        
                            </OptionAction>
                        </ChoiceOption>
                        <ChoiceOption>
                            <Tell><action><actionName>UnderStock</actionName></action></Tell>
                            <OptionAction>
                            </OptionAction>
                        </ChoiceOption>
                    </Choice>
                </OptionAction>
            </ChoiceOption>
        </Choice>
    </Compose>
</Agent>
